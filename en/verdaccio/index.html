<!DOCTYPE html>
<html dir="ltr" lang="en-us" class="initial astro-OUAMJN2I">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Astro v2.2.1">

<link rel="icon" type="image/svg+xml" href="/the-ui-dawg-static-site/favicon.png">

<link rel="sitemap" href="/sitemap.xml">

<!-- Preload Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&display=swap" rel="stylesheet">

<!-- Scrollable a11y code helper -->
<script src="/the-ui-dawg-static-site/make-scrollable-code-focusable.js"></script>

<!-- This is intentionally inlined to avoid FOUC -->
<script>
  const root = document.documentElement;
  const theme = localStorage.getItem("theme");
  if (
    theme === "dark" ||
    (!theme && window.matchMedia("(prefers-color-scheme: dark)").matches)
  ) {
    root.classList.add("theme-dark");
  } else {
    root.classList.remove("theme-dark");
  }
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-TEL60V1WM9" is:inline></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TEL60V1WM9');
</script> -->
    <!-- Page Metadata --><link rel="canonical" href="https://willwill96.github.io/the-ui-dawg-static-site/en/verdaccio/">

<!-- OpenGraph Tags -->
<meta property="og:title" content="End to End Testing for Npm Packages with Verdaccio ðŸš€ The UI Dawg">
<meta property="og:type" content="article">
<meta property="og:url" content="https://willwill96.github.io/the-ui-dawg-static-site/en/verdaccio/">
<meta property="og:locale" content="en-us">
<meta property="og:image" content="https://github.com/willwill96/the-ui-dawg-static-site/blob/main/public/logo.png?raw=true">
<meta property="og:image:alt" content="The UI Dawg Site Logo">
<meta name="description" property="og:description" content="e2e testing with Verdaccio">
<meta property="og:site_name" content="The UI Dawg">

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="astrodotbuild">
<meta name="twitter:title" content="End to End Testing for Npm Packages with Verdaccio ðŸš€ The UI Dawg">
<meta name="twitter:description" content="e2e testing with Verdaccio">
<meta name="twitter:image" content="https://github.com/willwill96/the-ui-dawg-static-site/blob/main/public/logo.png?raw=true">
<meta name="twitter:image:alt" content="The UI Dawg Site Logo">

<!--
  TODO: Add json+ld data, maybe https://schema.org/APIReference makes sense?
  Docs: https://developers.google.com/search/docs/advanced/structured-data/intro-structured-data
  https://www.npmjs.com/package/schema-dts seems like a great resource for implementing this.
  Even better, there's a React component that integrates with `schema-dts`: https://github.com/google/react-schemaorg
-->
    <title>
      End to End Testing for Npm Packages with Verdaccio ðŸš€ The UI Dawg
    </title>
    
    
  <link rel="stylesheet" href="/the-ui-dawg-static-site/_astro/_...slug_.48d97b4c.css" /></head>

  <body class="astro-OUAMJN2I">
    <header class="astro-2W66RQV5">
  <a href="#article" class="sr-only focus:not-sr-only skiplink astro-DMGOOZ7Y"><span class="astro-DMGOOZ7Y">Skip to Content</span></a>
  <nav class="nav-wrapper astro-2W66RQV5" title="Top Navigation">
    <div class="menu-toggle astro-2W66RQV5">
      <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).idle=t=>{const e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)},window.dispatchEvent(new Event("astro:idle"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="Z27AMYa" component-url="/the-ui-dawg-static-site/_astro/SidebarToggle.90a3e4e8.js" component-export="default" renderer-url="/the-ui-dawg-static-site/_astro/client.8b0578c2.js" props="{&quot;class&quot;:[0,&quot;astro-2W66RQV5&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;SidebarToggle&quot;,&quot;value&quot;:true}" await-children=""><button type="button" aria-pressed="false" id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><span class="sr-only">Toggle sidebar</span></button></astro-island>
    </div>
    <div class="logo flex astro-2W66RQV5">
      <a href="/the-ui-dawg-static-site/" class="astro-2W66RQV5">
        <img src="/the-ui-dawg-static-site/logo.png" style="width:40px" class="astro-2W66RQV5">
        <h1 class="astro-2W66RQV5">The UI Dawg</h1>
      </a>
    </div>
    <div style="flex-grow: 1;" class="astro-2W66RQV5"></div>
    
    <div class="search-item astro-2W66RQV5">
      <astro-island uid="lcweu" component-url="/the-ui-dawg-static-site/_astro/Search.d84543ec.js" component-export="default" renderer-url="/the-ui-dawg-static-site/_astro/client.fd400d45.js" props="{}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;Search&quot;,&quot;value&quot;:true}" await-children=""><button type="button" class="search-input"><svg width="24" height="24" fill="none"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span>Search</span><span class="search-hint"><span class="sr-only">Press </span><kbd>/</kbd><span class="sr-only"> to search</span></span></button></astro-island>
    </div>
  </nav>
</header>
    <main class="layout astro-OUAMJN2I">
      <aside id="grid-left" class="grid-sidebar astro-OUAMJN2I" title="Site Navigation">
        <nav aria-labelledby="grid-left" class="astro-KQNE5HRN">
  <ul class="nav-groups astro-KQNE5HRN">
    <li class="astro-KQNE5HRN">
          <div class="nav-group astro-KQNE5HRN">
            <h2 class="nav-group-title astro-KQNE5HRN">Overview</h2>
            <ul class="astro-KQNE5HRN">
              <li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/introduction" class="astro-KQNE5HRN">
                      Introduction
                    </a>
                  </li>
            </ul>
          </div>
        </li><li class="astro-KQNE5HRN">
          <div class="nav-group astro-KQNE5HRN">
            <h2 class="nav-group-title astro-KQNE5HRN">Blog Posts</h2>
            <ul class="astro-KQNE5HRN">
              <li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/verdaccio" aria-current="page" class="astro-KQNE5HRN">
                      End to End Testing NPM Packages with Verdaccio
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/keycloakify" class="astro-KQNE5HRN">
                      Extending Keycloak Themes with Keycloakify
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/reusing-components" class="astro-KQNE5HRN">
                      Reusing Components Across Frameworks
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/devcontainers" class="astro-KQNE5HRN">
                      Containerizing Development with VS Code Dev Containers
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/version-with-changesets" class="astro-KQNE5HRN">
                      Version Your Packages with Changesets
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/install-via-git" class="astro-KQNE5HRN">
                      Install NPM Packages via git
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/comparing-npm-packages" class="astro-KQNE5HRN">
                      Guide to Comparing NPM Packages
                    </a>
                  </li>
            </ul>
          </div>
        </li><li class="astro-KQNE5HRN">
          <div class="nav-group astro-KQNE5HRN">
            <h2 class="nav-group-title astro-KQNE5HRN">Side Projects</h2>
            <ul class="astro-KQNE5HRN">
              <li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/projects/petfinder-graphql" class="astro-KQNE5HRN">
                      Petfinder GraphQL Server
                    </a>
                  </li><li class="nav-link astro-KQNE5HRN">
                    <a href="/the-ui-dawg-static-site/en/projects/mono-repo-tools" class="astro-KQNE5HRN">
                      Mono-repo Tools
                    </a>
                  </li>
            </ul>
          </div>
        </li>
  </ul>
</nav>

<script>
  window.addEventListener("DOMContentLoaded", () => {
    var target = document.querySelector('[aria-current="page"]');
    if (target && target.offsetTop > window.innerHeight - 100) {
      document.querySelector(".nav-groups").scrollTop = target.offsetTop;
    }
  });
</script>
      </aside>
      <div id="grid-main" class="astro-OUAMJN2I">
        <article id="article" class="content astro-J75B3YUS">
  <section class="main-section astro-J75B3YUS">
    <h1 class="content-title astro-J75B3YUS" id="overview">End to End Testing for Npm Packages with Verdaccio</h1>
    <span class="content-modified astro-J75B3YUS">Last modified: 5/29/2023</span>
    <nav class="block sm:hidden astro-J75B3YUS">
      <script>(self.Astro=self.Astro||{}).media=(s,a)=>{const t=async()=>{await(await s())()};if(a.value){const e=matchMedia(a.value);e.matches?t():e.addEventListener("change",t,{once:!0})}},window.dispatchEvent(new Event("astro:media"));</script><astro-island uid="1lDLAT" component-url="/the-ui-dawg-static-site/_astro/TableOfContents.4ec541fb.js" component-export="default" renderer-url="/the-ui-dawg-static-site/_astro/client.8b0578c2.js" props="{&quot;headings&quot;:[1,&quot;[[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;verdaccio\&quot;],\&quot;text\&quot;:[0,\&quot;Verdaccio\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;getting-started\&quot;],\&quot;text\&quot;:[0,\&quot;Getting started\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;docker-container-setup\&quot;],\&quot;text\&quot;:[0,\&quot;Docker Container Setup\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;installing-packages-from-verdaccio\&quot;],\&quot;text\&quot;:[0,\&quot;Installing Packages from Verdaccio\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;publishing-your-first-package-to-verdaccio\&quot;],\&quot;text\&quot;:[0,\&quot;Publishing Your First Package to Verdaccio\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;testing-your-packages\&quot;],\&quot;text\&quot;:[0,\&quot;Testing Your Packages\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;locally\&quot;],\&quot;text\&quot;:[0,\&quot;Locally\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;testing-as-a-ci-job\&quot;],\&quot;text\&quot;:[0,\&quot;Testing as a CI job\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;closing-thoughts\&quot;],\&quot;text\&quot;:[0,\&quot;Closing Thoughts\&quot;]}]]&quot;],&quot;class&quot;:[0,&quot;astro-J75B3YUS&quot;]}" ssr="" client="media" opts="{&quot;name&quot;:&quot;TableOfContents&quot;,&quot;value&quot;:&quot;(max-width: 50em)&quot;}" await-children=""><h2 id="on-this-page-heading" class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#verdaccio">Verdaccio</a></li><li class="header-link depth-2"><a href="#getting-started">Getting started</a></li><li class="header-link depth-3"><a href="#docker-container-setup">Docker Container Setup</a></li><li class="header-link depth-3"><a href="#installing-packages-from-verdaccio">Installing Packages from Verdaccio</a></li><li class="header-link depth-3"><a href="#publishing-your-first-package-to-verdaccio">Publishing Your First Package to Verdaccio</a></li><li class="header-link depth-2"><a href="#testing-your-packages">Testing Your Packages</a></li><li class="header-link depth-3"><a href="#locally">Locally</a></li><li class="header-link depth-3"><a href="#testing-as-a-ci-job">Testing as a CI job</a></li><li class="header-link depth-2"><a href="#closing-thoughts">Closing Thoughts</a></li></ul></astro-island>
    </nav>
    
          
  <p>If youâ€™ve been developing npm packages for a while and use build tools like typescript, you probably know that sometimes your packages behave after differently after being built. Whether itâ€™s due to some magic the typescript compiler is doing, differences between esm and commonjs or something else entirely, itâ€™s extremely frustrating to publish a package only to find that itâ€™s broken.</p>
<p>There are tools available like <code>npm/yarn/pnpm link</code> and <a href="https://github.com/wclr/yalc">yalc</a> to help simuate publishing packages in your local environment, but these tools have their own limitations that may make your code behave differently than when published to an npm registry.</p>
<p>For example, most <code>link</code> commands have some shortcomings related to symlinks. And yalc has itâ€™s own lock file as opposed to integrating directly with your package manager. Wouldnâ€™t it be nice if you could truly end-to-end test your npm packages? This is where Verdaccio comes in.</p>
<h2 id="verdaccio">Verdaccio</h2>
<p>The <a href="https://verdaccio.org/">Verdaccio docs</a> describe it as:</p>
<blockquote>
<p>A lightweight Node.js private proxy registry</p>
</blockquote>
<p>Verdaccio is more than just a tool for end-to-end testing. Itâ€™s an open-source, full fledged npm registry. So, while Iâ€™ll be going over how to use Verdaccio for end to end testing, there are other use cases like:</p>
<ul>
<li>Hosting your own instance(s) as a private registry for your organization</li>
<li>Hosting locally for installing npm packages while offline</li>
</ul>
<h2 id="getting-started">Getting started</h2>
<h3 id="docker-container-setup">Docker Container Setup</h3>
<p>The easiest way to get started with Verdaccio in my opinion, is to use their docker image:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">docker pull verdaccio/verdaccio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">docker run -it --rm --name verdaccio -p 4873:4873 verdaccio/verdaccio</span></span></code></pre>
<p>Next, letâ€™s set up a user so that we can login to the npm registry:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">npm adduser --registry http://localhost:4873</span></span></code></pre>
<p>Once youâ€™ve created your user you should be able to checkout the Verdaccio UI at <code>http://localhost:4873</code>!</p>
<img src="/the-ui-dawg-static-site//verdaccio/verdaccio-init.png"/>
<h3 id="installing-packages-from-verdaccio">Installing Packages from Verdaccio</h3>
<p>Before we publish a package we need to create one locally. If youâ€™ve already got a package in mind, you can skip this step.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">npm init -y</span></span></code></pre>
<p>Note: in this example, my package is named <code>my-test-pkg1</code>.</p>
<p>Next, weâ€™ll configure the projectâ€™s <code>.npmrc</code> to point to the verdaccio npm registry:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#79C0FF">echo</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;registry=http://localhost:4873&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">&gt;</span><span style="color:#C9D1D9"> .npmrc</span></span>
<span class="line"><span style="color:#8B949E"># OR if you want to configure this globally</span></span>
<span class="line"><span style="color:#79C0FF">echo</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;registry=http://localhost:4873&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">&gt;</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">~</span><span style="color:#C9D1D9">/.npmrc</span></span>
<span class="line"><span style="color:#8B949E"># OR if you only want to use the verdaccio npm registry for specific scoped packages</span></span>
<span class="line"><span style="color:#79C0FF">echo</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;@myscope:registry=http://localhost:4873&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">&gt;</span><span style="color:#C9D1D9"> .npmrc</span></span></code></pre>
<p>Now that weâ€™re directing our npm registry to our local verdaccio instance, letâ€™s try installing a package.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">npm install -D typescript</span></span></code></pre>
<p>If we take a look at the projectâ€™s <code>package-lock.json</code> after this, you should see the resolved url to be pointing to our locally running instance:</p>
<img src="/the-ui-dawg-static-site//verdaccio/verdaccio-install.png"/>
<p>If youâ€™re following along, or just looked at the previous screenshot you might have noticed that there were no packages published to verdaccio. So where did this package come from? Verdaccio supports a concept known as <a href="https://verdaccio.org/docs/uplinks/">uplinks</a>.</p>
<p>From verdaccio docs:</p>
<blockquote>
<p>An uplink is a link with an external registry that provides access to external packages.</p>
</blockquote>
<p>I like to think of an uplink as a way of aggregating packages across multiple registries while serving them all from a single registry. By default, Verdaccio contains an uplink for the public npm registry (<code>registry.npmjs.org</code>), which is where <code>typescript</code> is being pulled from. This allows you to easily pull your private packages &amp; public packages from the same registry.</p>
<p>Letâ€™s do a few more things to make sure our package is ready for publish:</p>
<ol>
<li>Create a <code>tsconfig.json</code> by running <code>tsc --init</code>. If needed, make configurations as necesary. In this example, I have the following <code>tsconfig.json</code>:</li>
</ol>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">{</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;compilerOptions&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#8B949E">/* Visit https://aka.ms/tsconfig to read more about this file */</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#8B949E">/* Projects */</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;target&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;es2016&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#8B949E">/* Modules */</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;module&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;commonjs&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Specify what module code is generated. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;rootDir&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;./src/&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Specify the root folder within your source files. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;outDir&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;./dist&quot;</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Specify an output folder for all emitted files. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;esModuleInterop&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#79C0FF">true</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Emit additional JavaScript to ease support for importing CommonJS modules. This enables &#39;allowSyntheticDefaultImports&#39; for type compatibility. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;forceConsistentCasingInFileNames&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#79C0FF">true</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Ensure that casing is correct in imports. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#8B949E">/* Type Checking */</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;strict&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#79C0FF">true</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Enable all strict type-checking options. */</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;skipLibCheck&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#79C0FF">true</span><span style="color:#C9D1D9"> </span><span style="color:#8B949E">/* Skip type checking all .d.ts files. */</span></span>
<span class="line"><span style="color:#C9D1D9">  }</span></span>
<span class="line"><span style="color:#C9D1D9">}</span></span></code></pre>
<ol start="2">
<li>Update the <code>package.json</code> to have a typescript build step &amp; to point to the correct compiled files.</li>
</ol>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">{</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;name&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;my-test-pkg1&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;version&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;1.0.0&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;description&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;main&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;dist/index.js&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;files&quot;</span><span style="color:#C9D1D9">: [</span><span style="color:#A5D6FF">&quot;dist/&quot;</span><span style="color:#C9D1D9">],</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;scripts&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;build&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;tsc&quot;</span></span>
<span class="line"><span style="color:#C9D1D9">  },</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;keywords&quot;</span><span style="color:#C9D1D9">: [],</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;author&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;license&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;ISC&quot;</span><span style="color:#C9D1D9">,</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">&quot;devDependencies&quot;</span><span style="color:#C9D1D9">: {</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">&quot;typescript&quot;</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;^5.0.4&quot;</span></span>
<span class="line"><span style="color:#C9D1D9">  }</span></span>
<span class="line"><span style="color:#C9D1D9">}</span></span></code></pre>
<h3 id="publishing-your-first-package-to-verdaccio">Publishing Your First Package to Verdaccio</h3>
<p>Next, we need to actually create some code that we want to publish.</p>
<p>For the purposes of keeping this blog post simple and focused on e2e testing, we will create a very simple function that we want to package:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#8B949E">// src/index.ts</span></span>
<span class="line"><span style="color:#FF7B72">export</span><span style="color:#C9D1D9"> </span><span style="color:#FF7B72">function</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">identity</span><span style="color:#C9D1D9">(</span><span style="color:#FFA657">myParam</span><span style="color:#FF7B72">:</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">any</span><span style="color:#C9D1D9">) {</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> myParam;</span></span>
<span class="line"><span style="color:#C9D1D9">}</span></span></code></pre>
<p>Now you should be ready to publish your package:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">npm publish</span></span></code></pre>
<p>After running, you should see some output similar to following:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#c9d1d9">&gt; my-test-pkg1@1.0.0 prepublishOnly</span></span>
<span class="line"><span style="color:#c9d1d9">&gt; npm run build</span></span>
<span class="line"><span style="color:#c9d1d9"></span></span>
<span class="line"><span style="color:#c9d1d9"></span></span>
<span class="line"><span style="color:#c9d1d9">&gt; my-test-pkg1@1.0.0 prebuild</span></span>
<span class="line"><span style="color:#c9d1d9">&gt; rm -rf dist/</span></span>
<span class="line"><span style="color:#c9d1d9"></span></span>
<span class="line"><span style="color:#c9d1d9"></span></span>
<span class="line"><span style="color:#c9d1d9">&gt; my-test-pkg1@1.0.0 build</span></span>
<span class="line"><span style="color:#c9d1d9">&gt; tsc</span></span>
<span class="line"><span style="color:#c9d1d9"></span></span>
<span class="line"><span style="color:#c9d1d9">npm notice</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice ðŸ“¦  my-test-pkg1@1.0.0</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice === Tarball Contents ===</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice 184B dist/index.js</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice 340B package.json</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice === Tarball Details ===</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice name:          my-test-pkg1</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice version:       1.0.0</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice filename:      my-test-pkg1-1.0.0.tgz</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice package size:  430 B</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice unpacked size: 524 B</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice shasum:        f55b70b72ce1939c964974d6e9a0cdb4d5e43e78</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice integrity:     sha512-+6ZkLRFacVxtf[...]t70INOKyhcyUw==</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice total files:   2</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice</span></span>
<span class="line"><span style="color:#c9d1d9">npm notice Publishing to http://localhost:4873 with tag latest and default access</span></span>
<span class="line"><span style="color:#c9d1d9">+ my-test-pkg1@1.0.0</span></span></code></pre>
<p>Congratulations, youâ€™ve just published your first package to Verdaccio! But what about testing that functionality?</p>
<h2 id="testing-your-packages">Testing Your Packages</h2>
<h3 id="locally">Locally</h3>
<p>To test this functionality, weâ€™ll set up a new npm package where we intend to install the package. Setup for this package is identical to how we set up the published package, but we can stop once the <code>.npmrc</code> is set up.</p>
<p>Next letâ€™s <code>cd</code> into the new packageâ€™s directory and install our published package:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">npm i my-test-pkg1</span></span></code></pre>
<p>Now, that the package is installed, letâ€™s create a short script to verify the function is working as intended:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#8B949E">// index.js</span></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> { </span><span style="color:#79C0FF">identity</span><span style="color:#C9D1D9"> } </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">require</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;my-test-pkg1&quot;</span><span style="color:#C9D1D9">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C9D1D9">console.</span><span style="color:#D2A8FF">log</span><span style="color:#C9D1D9">(</span><span style="color:#D2A8FF">identity</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;Foo Bar&quot;</span><span style="color:#C9D1D9">));</span></span></code></pre>
<p>If everything is working as expected, you should be able to run this script successfully with:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">node index.js</span></span></code></pre>
<p>This is pretty cool, but wouldnâ€™t it be much better if we could run automated test suites to test this functionality?</p>
<p>I think that the easiest way to incorporate a test suite in your project these days is to add <a href="https://vitest.dev/">vitest</a>.</p>
<p>Note: If you already have a testing suite set up, you can skip to the next section.</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#c9d1d9">npm i -D vitest</span></span></code></pre>
<p>Next, create a boilerplate <code>vitest.config.ts</code> file:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#8B949E">// vitest.config.ts</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> { defineConfig } </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;vitest/config&quot;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF7B72">export</span><span style="color:#FFA657"> </span><span style="color:#FF7B72">default</span><span style="color:#FFA657"> </span><span style="color:#D2A8FF">defineConfig</span><span style="color:#FFA657">({</span></span>
<span class="line"><span style="color:#FFA657">  </span><span style="color:#C9D1D9">test: {}</span><span style="color:#FFA657">,</span></span>
<span class="line"><span style="color:#FFA657">})</span><span style="color:#C9D1D9">;</span></span></code></pre>
<p>Next, letâ€™s create a simple unit test for our published package using vitest:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#8B949E">// test/my-test-pkg1.spec.ts</span></span>
<span class="line"><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> { describe, expect, it } </span><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> </span><span style="color:#A5D6FF">&quot;vitest&quot;</span><span style="color:#C9D1D9">;</span></span>
<span class="line"><span style="color:#FF7B72">const</span><span style="color:#C9D1D9"> { </span><span style="color:#79C0FF">identity</span><span style="color:#C9D1D9"> } </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">require</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;my-test-pkg1&quot;</span><span style="color:#C9D1D9">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D2A8FF">describe</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;my-test-pkg1&quot;</span><span style="color:#C9D1D9">, () </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> {</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#D2A8FF">it</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;returns the correct value&quot;</span><span style="color:#C9D1D9">, () </span><span style="color:#FF7B72">=&gt;</span><span style="color:#C9D1D9"> {</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#D2A8FF">expect</span><span style="color:#C9D1D9">(</span><span style="color:#D2A8FF">identity</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;Foo Bar&quot;</span><span style="color:#C9D1D9">)).</span><span style="color:#D2A8FF">toEqual</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;Foo Bar&quot;</span><span style="color:#C9D1D9">);</span></span>
<span class="line"><span style="color:#C9D1D9">  });</span></span>
<span class="line"><span style="color:#C9D1D9">});</span></span></code></pre>
<p>Finally, letâ€™s add a script to the <code>package.json</code> so we can easily run the test suite:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#C9D1D9">...</span></span>
<span class="line"><span style="color:#C9D1D9">   </span><span style="color:#A5D6FF">&quot;scripts: {</span></span>
<span class="line"><span style="color:#A5D6FF">    ...</span></span>
<span class="line"><span style="color:#A5D6FF">    &quot;</span><span style="color:#C9D1D9">test</span><span style="color:#A5D6FF">&quot;: &quot;</span><span style="color:#C9D1D9">vitest run</span><span style="color:#A5D6FF">&quot;,</span></span>
<span class="line"><span style="color:#A5D6FF">    ...</span></span>
<span class="line"><span style="color:#A5D6FF">   }</span></span></code></pre>
<p>Now you should be able to run your automated test suite with <code>npm run test</code> &amp; see something similar to the following:</p>
<img src="/the-ui-dawg-static-site//verdaccio/verdaccio-vitest.png"/>
<h3 id="testing-as-a-ci-job">Testing as a CI job</h3>
<p>If youâ€™ve setup CI jobs before, you may already have an idea of how to run the test suite. The tricky part ends up being standing up the verdaccio instance and getting your package published from the CI environment.</p>
<p>Luckily, Github Actions allows you to provide a <code>services</code> definition to your jobs, which allows you to <a href="https://docs.github.com/en/actions/using-containerized-services">run containerized services alongside your jobs</a>.</p>
<p>For example you may have the following in your workflow:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#7EE787">jobs</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">e2e-test</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">services</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">      </span><span style="color:#7EE787">verdaccio-instance</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">image</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">verdaccio/verdaccio</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">ports</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">          - </span><span style="color:#A5D6FF">4873:4873</span></span></code></pre>
<p>The above snippet is simply saying to run the verdaccio docker image as part of the <code>e2e-test</code> job. We forward the port that verdaccio runs on so we can access it from the job.</p>
<p>From here, you should be able use the verdaccio instance for both installing &amp; publishing packages from your CI job. For a full example of a job specification, see below:</p>
<pre class="astro-code" style="background-color:#0d1117;overflow-x:auto"><code><span class="line"><span style="color:#7EE787">jobs</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">  </span><span style="color:#7EE787">e2e-test</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">services</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">      </span><span style="color:#7EE787">verdaccio-instance</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">image</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">verdaccio/verdaccio</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">ports</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">          - </span><span style="color:#A5D6FF">4873:4873</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">runs-on</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">ubuntu-latest</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#7EE787">steps</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">      - </span><span style="color:#7EE787">uses</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">actions/checkout@v3</span></span>
<span class="line"><span style="color:#C9D1D9">      - </span><span style="color:#7EE787">name</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">Use Node.js 20</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">uses</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">actions/setup-node@v3</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">with</span><span style="color:#C9D1D9">:</span></span>
<span class="line"><span style="color:#C9D1D9">          </span><span style="color:#7EE787">node-version</span><span style="color:#C9D1D9">: </span><span style="color:#79C0FF">20</span></span>
<span class="line"><span style="color:#C9D1D9">          </span><span style="color:#7EE787">cache</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;npm&quot;</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#8B949E"># Setup verdaccio as the default npm registry</span></span>
<span class="line"><span style="color:#C9D1D9">      - </span><span style="color:#7EE787">run</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">echo &quot;registry=http://localhost:4873&quot; &gt; ~/.npmrc</span></span>
<span class="line"><span style="color:#C9D1D9">      - </span><span style="color:#7EE787">name</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">Publish Package</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">run</span><span style="color:#C9D1D9">: </span><span style="color:#FF7B72">|</span></span>
<span class="line"><span style="color:#A5D6FF">          {</span></span>
<span class="line"><span style="color:#A5D6FF">            cd verdaccio-test</span></span>
<span class="line"><span style="color:#A5D6FF">            npm version 1.0.0-test-ci --git-tag-version=false</span></span>
<span class="line"><span style="color:#A5D6FF">            npm ci</span></span>
<span class="line"><span style="color:#A5D6FF">            npx npm-cli-login -u test -p 1234 -e test@domain.test -r http://localhost:4873</span></span>
<span class="line"><span style="color:#A5D6FF">            npm publish --registry http://localhost:4873</span></span>
<span class="line"><span style="color:#A5D6FF">          }</span></span>
<span class="line"><span style="color:#C9D1D9">      - </span><span style="color:#7EE787">name</span><span style="color:#C9D1D9">: </span><span style="color:#A5D6FF">&quot;Test published package&quot;</span></span>
<span class="line"><span style="color:#C9D1D9">        </span><span style="color:#7EE787">run</span><span style="color:#C9D1D9">: </span><span style="color:#FF7B72">|</span></span>
<span class="line"><span style="color:#A5D6FF">          {</span></span>
<span class="line"><span style="color:#A5D6FF">            cd verdaccio-test-install</span></span>
<span class="line"><span style="color:#A5D6FF">            npm install</span></span>
<span class="line"><span style="color:#A5D6FF">            npm install my-test-pkg1@1.0.0-test-ci</span></span>
<span class="line"><span style="color:#A5D6FF">            npm run test</span></span>
<span class="line"><span style="color:#A5D6FF">          }</span></span></code></pre>
<h2 id="closing-thoughts">Closing Thoughts</h2>
<p>Before implementing this for every one of your projects, take a while to think about whether you actually need it. Verdaccio is a very helpful tool, but it admittedly adds complexity thatâ€™s not necessary for every project. Have you run into problems that canâ€™t be debugged without first having the package published? If you arenâ€™t, it might not be time to adopt Verdaccio yet.</p>
<p>While this setup may not be necessary for every project, I think that Verdaccio provides a superior service to alternatives like <code>npm link</code> &amp; <code>yalc</code>, due to simulateneously being a full-fledged npm registry as well and providing an ephemeral environment that can be recreated simply with a docker image. I hope this article was useful for you in getting started with e2e testing npm packages. Happy Coding!</p>
<p>The full source code for the Verdaccio PoC can be found here: <a href="https://github.com/willwill96/verdaccio-e2e-testing">https://github.com/willwill96/verdaccio-e2e-testing</a></p>

        
  </section>
  <nav class="block sm:hidden astro-J75B3YUS">
    <h2 class="heading astro-BYIKQF6W">More</h2>
<ul class="astro-BYIKQF6W">
  <li class="header-link depth-2 astro-BYIKQF6W">
        <a class="edit-on-github astro-BYIKQF6W" href="https://github.com/willwill96/the-ui-dawg-static-site/edit/main/src/content/docs//en/verdaccio.mdx" target="_blank">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16 astro-BYIKQF6W" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z" class="astro-BYIKQF6W"></path>
          </svg>
          <span class="astro-BYIKQF6W">Edit this page</span>
        </a>
      </li>
</ul>
<div style="margin: 2rem 0; text-align: center;" class="astro-BYIKQF6W">
  <script>(self.Astro=self.Astro||{}).visible=(s,c,n)=>{const r=async()=>{await(await s())()};let i=new IntersectionObserver(e=>{for(const t of e)if(t.isIntersecting){i.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];i.observe(t)}},window.dispatchEvent(new Event("astro:visible"));</script><astro-island uid="g6hLy" component-url="/the-ui-dawg-static-site/_astro/ThemeToggleButton.70ee036c.js" component-export="default" renderer-url="/the-ui-dawg-static-site/_astro/client.8b0578c2.js" props="{&quot;class&quot;:[0,&quot;astro-BYIKQF6W&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ThemeToggleButton&quot;,&quot;value&quot;:true}" await-children=""><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-island>
</div>
  </nav>
</article>
      </div>
      <aside id="grid-right" class="grid-sidebar astro-OUAMJN2I" title="Table of Contents">
        <nav class="sidebar-nav astro-ROIVMLUZ" aria-labelledby="grid-right">
  <div class="sidebar-nav-inner astro-ROIVMLUZ">
    <astro-island uid="ZY6GGj" component-url="/the-ui-dawg-static-site/_astro/TableOfContents.4ec541fb.js" component-export="default" renderer-url="/the-ui-dawg-static-site/_astro/client.8b0578c2.js" props="{&quot;headings&quot;:[1,&quot;[[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;verdaccio\&quot;],\&quot;text\&quot;:[0,\&quot;Verdaccio\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;getting-started\&quot;],\&quot;text\&quot;:[0,\&quot;Getting started\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;docker-container-setup\&quot;],\&quot;text\&quot;:[0,\&quot;Docker Container Setup\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;installing-packages-from-verdaccio\&quot;],\&quot;text\&quot;:[0,\&quot;Installing Packages from Verdaccio\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;publishing-your-first-package-to-verdaccio\&quot;],\&quot;text\&quot;:[0,\&quot;Publishing Your First Package to Verdaccio\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;testing-your-packages\&quot;],\&quot;text\&quot;:[0,\&quot;Testing Your Packages\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;locally\&quot;],\&quot;text\&quot;:[0,\&quot;Locally\&quot;]}],[0,{\&quot;depth\&quot;:[0,3],\&quot;slug\&quot;:[0,\&quot;testing-as-a-ci-job\&quot;],\&quot;text\&quot;:[0,\&quot;Testing as a CI job\&quot;]}],[0,{\&quot;depth\&quot;:[0,2],\&quot;slug\&quot;:[0,\&quot;closing-thoughts\&quot;],\&quot;text\&quot;:[0,\&quot;Closing Thoughts\&quot;]}]]&quot;],&quot;class&quot;:[0,&quot;astro-ROIVMLUZ&quot;]}" ssr="" client="media" opts="{&quot;name&quot;:&quot;TableOfContents&quot;,&quot;value&quot;:&quot;(min-width: 50em)&quot;}" await-children=""><h2 id="on-this-page-heading" class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#verdaccio">Verdaccio</a></li><li class="header-link depth-2"><a href="#getting-started">Getting started</a></li><li class="header-link depth-3"><a href="#docker-container-setup">Docker Container Setup</a></li><li class="header-link depth-3"><a href="#installing-packages-from-verdaccio">Installing Packages from Verdaccio</a></li><li class="header-link depth-3"><a href="#publishing-your-first-package-to-verdaccio">Publishing Your First Package to Verdaccio</a></li><li class="header-link depth-2"><a href="#testing-your-packages">Testing Your Packages</a></li><li class="header-link depth-3"><a href="#locally">Locally</a></li><li class="header-link depth-3"><a href="#testing-as-a-ci-job">Testing as a CI job</a></li><li class="header-link depth-2"><a href="#closing-thoughts">Closing Thoughts</a></li></ul></astro-island>
    <h2 class="heading astro-BYIKQF6W">More</h2>
<ul class="astro-BYIKQF6W">
  <li class="header-link depth-2 astro-BYIKQF6W">
        <a class="edit-on-github astro-BYIKQF6W" href="https://github.com/willwill96/the-ui-dawg-static-site/edit/main/src/content/docs//en/verdaccio.mdx" target="_blank">
          <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="pen" class="svg-inline--fa fa-pen fa-w-16 astro-BYIKQF6W" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" height="1em" width="1em">
            <path fill="currentColor" d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z" class="astro-BYIKQF6W"></path>
          </svg>
          <span class="astro-BYIKQF6W">Edit this page</span>
        </a>
      </li>
</ul>
<div style="margin: 2rem 0; text-align: center;" class="astro-BYIKQF6W">
  <astro-island uid="g6hLy" component-url="/the-ui-dawg-static-site/_astro/ThemeToggleButton.70ee036c.js" component-export="default" renderer-url="/the-ui-dawg-static-site/_astro/client.8b0578c2.js" props="{&quot;class&quot;:[0,&quot;astro-BYIKQF6W&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ThemeToggleButton&quot;,&quot;value&quot;:true}" await-children=""><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-island>
</div>
  </div>
</nav>
      </aside>
    </main>
    <footer class="astro-AK3UPACL">
  <div class="contributors astro-QVDSTM4S">
  <ul class="avatar-list astro-QVDSTM4S" style="--avatar-count: 1">
    <li class="astro-QVDSTM4S">
          <a href="https://github.com/willwill96" class="astro-QVDSTM4S">
            <img alt="Contributor willwill96" title="Contributor willwill96" width="64" height="64" src="https://avatars.githubusercontent.com/u/10997562" class="astro-QVDSTM4S">
          </a>
        </li>
  </ul>
  
  
</div>
</footer>
  </body></html>